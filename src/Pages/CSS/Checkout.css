/* ===========================
   CHECKOUT – DARK PREMIUM UI
   =========================== */

:root {
  --bg: linear-gradient(180deg,#060606,#0d0d0f);
  --bg-accent: radial-gradient(circle at 70% -10%, rgba(245,197,70,.08), transparent 70%);
  --card: linear-gradient(145deg,#161618 0%, #0d0d0f 55%, #1f1f22 100%);
  --card-flat: #161618;
  --text: #f2f2f2;
  --muted: #b3b3b8;
  --line: rgba(245,197,70,0.18);
  --line-soft: rgba(255,255,255,0.08);
  --gold: #f5c546;
  --gold-2: #ffd86b;
  --gold-soft: rgba(245,197,70,.12);
  --danger: #ff4e3f;
  --danger-2: #ff2d1c;
  --radius: 18px;
  --shadow: 0 28px 70px -24px rgba(0,0,0,.8), 0 0 0 1px rgba(245,197,70,.10);
  --focus-ring: 0 0 0 4px rgba(245,197,70,.22);
  --ease: cubic-bezier(.25,.8,.25,1);
}

/* Page */
.checkout-page {
  min-height: 100vh;
  background: var(--bg-accent), var(--bg);
  padding: 72px 20px 64px;
  font-family: 'Segoe UI', system-ui, sans-serif;
  color: var(--text);
}

.checkout {
  max-width: 1160px;
  margin: 0 auto;
}

.checkout h1 {
  text-align: center;
  margin: 0 0 34px;
  font-size: 2.15rem;
  font-weight: 800;
  letter-spacing: -.5px;
  background: linear-gradient(120deg,var(--gold),var(--gold-2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
}

/* Layout */
.checkout-container {
  display: grid;
  grid-template-columns: 1fr 380px;
  gap: 34px;
  max-width: 1080px;
  margin: 0 auto;
}

/* Cards */
.checkout-form,
.checkout-summary {
  background: var(--card);
  border: 1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(16px);
  position: relative;
  overflow: hidden;
}

.checkout-form {
  padding: 36px 34px 32px;
  display: flex;
  flex-direction: column;
  gap: 30px;
}

.section-bloco h2,
.checkout-form h2 {
  margin: 0 0 16px;
  font-size: 1.25rem;
  font-weight: 700;
  letter-spacing: -.2px;
  color: var(--gold);
  text-shadow: 0 0 6px rgba(245,197,70,.35);
  border-bottom: 1px solid var(--line);
  padding-bottom: 10px;
}

/* Form controls */
.form-group { display: flex; flex-direction: column; gap: 8px; }
.form-row { display: grid; grid-template-columns: 1fr 1.1fr; gap: 18px; }

.checkout-form label {
  font-size: .78rem;
  font-weight: 600;
  letter-spacing: .5px;
  text-transform: uppercase;
  color: var(--muted);
}

.checkout-form input[type="text"],
.checkout-form input[type="email"],
.checkout-form input[type="tel"] {
  padding: 12px 14px;
  border-radius: 12px;
  border: 1px solid var(--line-soft);
  background: #0f1012;
  color: var(--text);
  font-size: .95rem;
  transition: border-color .25s var(--ease), box-shadow .25s var(--ease), background .25s;
}

.checkout-form input[type="text"]:focus,
.checkout-form input[type="email"]:focus,
.checkout-form input[type="tel"]:focus {
  outline: none;
  border-color: var(--gold);
  background: #141517;
  box-shadow: var(--focus-ring);
}

/* Métodos de pagamento */
.payment-methods {
  display: grid;
  grid-template-columns: repeat(2,minmax(140px,1fr));
  gap: 16px;
  margin-top: -4px;
}

.payment-methods label {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 14px 16px;
  border: 1px solid var(--line-soft);
  background: #121315;
  border-radius: 14px;
  cursor: pointer;
  font-weight: 600;
  color: var(--text);
  font-size: .9rem;
  transition: background .3s var(--ease), border-color .3s var(--ease), transform .25s var(--ease), box-shadow .3s;
}

.payment-methods input[type="radio"] {
  width: 18px;
  height: 18px;
  accent-color: var(--gold);
  cursor: pointer;
}

.payment-methods label:hover {
  transform: translateY(-3px);
  background: #18191c;
  border-color: var(--gold);
  box-shadow: 0 14px 34px -14px rgba(245,197,70,.35);
}

.payment-methods label:has(input:checked) {
  background: linear-gradient(145deg,#18191c,#141517);
  border-color: var(--gold);
  box-shadow: 0 0 0 1px rgba(245,197,70,.4), 0 18px 40px -18px rgba(245,197,70,.45);
}

/* Main button */
.checkout-button {
  width: 100%;
  padding: 15px 20px;
  background: linear-gradient(135deg,var(--gold),var(--gold-2));
  color: #0e0e0e;
  border: none;
  border-radius: 14px;
  font-size: .95rem;
  font-weight: 800;
  letter-spacing: .55px;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform .35s var(--ease), box-shadow .35s var(--ease);
  margin-top: 20px;
}

.checkout-button::before {
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(90deg,transparent,rgba(255,255,255,.55),transparent);
  left:-100%;
  transition: left .9s var(--ease);
}

.checkout-button:hover:not(:disabled) {
  transform: translateY(-5px);
  box-shadow: 0 20px 48px -18px rgba(245,197,70,.65);
}

.checkout-button:hover::before { left:100%; }
.checkout-button:disabled { opacity:.55; cursor:not-allowed; }

.checkout-button.unavailable {
  background: linear-gradient(135deg,var(--danger),var(--danger-2));
  color:#fff;
  animation: pulse-danger 1.9s ease-in-out infinite;
}
@keyframes pulse-danger {
  0% { box-shadow: 0 0 0 0 rgba(255,78,63,.55); }
  70% { box-shadow: 0 0 0 18px rgba(255,78,63,0); }
  100% { box-shadow: 0 0 0 0 rgba(255,78,63,0); }
}

/* Warning */
.checkout-warning {
  background: linear-gradient(110deg,var(--danger),var(--danger-2));
  color:#fff;
  padding:12px 16px;
  border-radius:14px;
  font-size:.75rem;
  font-weight:700;
  letter-spacing:.6px;
  display:flex;
  gap:10px;
  align-items:center;
  box-shadow:0 16px 40px -18px rgba(255,78,63,.55);
}
.checkout-warning::before {
  content:'!';
  width:20px;height:20px;
  background:#fff;
  color:var(--danger);
  font-weight:800;
  font-size:.9rem;
  border-radius:50%;
  display:grid;place-items:center;
}

/* Summary */
.checkout-summary {
  padding:28px 26px 24px;
  position:sticky;
  top:86px;
  max-height:calc(100vh - 120px);
  overflow:auto;
}

.checkout-summary h2 {
  margin:0 0 18px;
  font-size:1.05rem;
  font-weight:800;
  letter-spacing:.3px;
  color:var(--gold);
  text-shadow:0 0 6px rgba(245,197,70,.3);
  border-bottom:1px solid var(--line);
  padding-bottom:10px;
}

.summary-items { margin-bottom: 12px; }

.summary-item {
  display:grid;
  grid-template-columns:70px 1fr auto;
  gap:14px;
  padding:12px 0;
  border-bottom:1px dashed var(--line-soft);
  align-items:center;
}

.summary-item:last-child { border-bottom:none; }

.summary-item-img-wrapper { position:relative; }

.summary-item img {
  width:70px;height:70px;object-fit:cover;
  border-radius:12px;
  border:1px solid var(--line-soft);
  background:#121315;
  box-shadow:0 4px 12px -4px rgba(0,0,0,.5);
}

.summary-item div { overflow:hidden; }

.summary-item p {
  margin:2px 0;
  font-size:.78rem;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  letter-spacing:.3px;
}

.summary-item p:first-child {
  font-weight:700;
  font-size:.82rem;
  color:var(--text);
}

.summary-item > p:last-child {
  font-weight:700;
  font-size:.85rem;
  color:var(--gold);
}

/* Sold out */
.summary-item.soldout {
  background: linear-gradient(120deg,#261010,#1a0707);
  border-radius:14px;
  padding:14px;
  border:1px solid rgba(255,78,63,.35);
}
.soldout-badge {
  position:absolute;
  top:6px;left:6px;
  background:linear-gradient(135deg,var(--danger),var(--danger-2));
  color:#fff;
  font-size:.55rem;
  font-weight:800;
  padding:4px 6px;
  border-radius:6px;
  letter-spacing:.6px;
  box-shadow:0 4px 10px -4px rgba(255,78,63,.6);
}
.soldout-text {
  color:#ff6b5f;
  font-size:.63rem;
  font-weight:700;
  margin-top:4px;
  letter-spacing:.5px;
}

/* Totals */
.summary-total {
  padding-top:18px;
  border-top:2px solid var(--line);
  margin-top:6px;
}

.summary-total h3 {
  font-size:1.25rem;
  font-weight:800;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:10px 0 0;
  color:var(--text);
}
.summary-total h3 span {
  background:linear-gradient(120deg,var(--gold),var(--gold-2));
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  background-clip:text;
  font-weight:800;
}

.subtotal-line,
.desconto-line {
  display:flex;
  justify-content:space-between;
  font-size:.78rem;
  font-weight:700;
  letter-spacing:.4px;
  color:var(--muted);
  margin-bottom:6px;
}

.desconto-line { color:#35d96a; text-shadow:0 0 6px rgba(53,217,106,.35); }

.hint-cupom {
  font-size:.65rem;
  color:var(--muted);
  margin-top:6px;
  letter-spacing:.5px;
}

/* Pix */
.pix-box, .pix-qrcode {
  margin-top:18px;
  padding:18px;
  border:1px dashed rgba(245,197,70,.35);
  border-radius:14px;
  background:#141517;
  text-align:center;
}

.pix-box img, .pix-qrcode img {
  max-width:230px;
  margin:8px auto 6px;
  display:block;
  border:2px solid var(--line-soft);
  border-radius:12px;
  background:#0f1012;
  padding:10px;
}

.pix-copy, .pix-qrcode button {
  margin-top:10px;
  margin-right: 20px;
  padding:10px 18px;
  font-size:.75rem;
  font-weight:800;
  letter-spacing:.5px;
  border:none;
  border-radius:12px;
  background:linear-gradient(135deg,var(--gold),var(--gold-2));
  color:#0e0e0e;
  cursor:pointer;
  transition:transform .3s var(--ease), box-shadow .3s var(--ease);
}

.pix-copy:hover, .pix-qrcode button:hover {
  transform:translateY(-4px);
  box-shadow:0 16px 38px -12px rgba(245,197,70,.6);
}

.pix-qrcode small {
  display:block;
  margin-top:8px;
  font-size:.6rem;
  color:var(--muted);
  letter-spacing:.5px;
}

/* Responsive */
@media (max-width: 1080px) {
  .checkout-container { grid-template-columns: 1fr 360px; }
}
@media (max-width: 920px) {
  .checkout-container { grid-template-columns: 1fr; }
  .checkout-summary { position:relative; top:0; max-height:none; }
  .form-row { grid-template-columns:1fr; }
}
@media (max-width: 540px) {
  .checkout-form { padding:28px 22px 24px; gap:26px; }
  .checkout-summary { padding:24px 22px 20px; }
  .payment-methods { grid-template-columns:1fr; }
  .checkout-button { padding:14px 16px; font-size:.9rem; }
  .summary-item { grid-template-columns:60px 1fr auto; gap:10px; }
  .summary-item img { width:60px;height:60px; }
}

/* Motion reduce */
@media (prefers-reduced-motion: reduce) {
  .checkout-button.unavailable,
  .checkout-button::before { animation:none; }
}